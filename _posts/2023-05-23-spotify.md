---
toc: true
layout: post
description: Test
categories: [markdown, project]
title: Spotify API
---

<script>
    const url = 'https://spotify-scraper.p.rapidapi.com/v1/chart/tracks/top';
const options = {
  method: 'GET',
  headers: {
    'X-RapidAPI-Key': '4abcb54450msh7468dfd72294e89p18fbaajsn6d4200063b39',
    'X-RapidAPI-Host': 'spotify-scraper.p.rapidapi.com'
  }
};

const tableContainer = document.getElementById('table-container'); // Assuming there's a <div> with id 'table-container' in your HTML

async function fetchAndDisplayData() {
  try {
    const response = await fetch(url, options);
    const data = await response.json();

    const table = document.createElement('table');
    table.classList.add('data-table');

    // Create table headers
    const headers = Object.keys(data[0]);
    const headerRow = document.createElement('tr');
    headers.forEach(headerText => {
      const headerCell = document.createElement('th');
      headerCell.textContent = headerText;
      headerRow.appendChild(headerCell);
    });
    table.appendChild(headerRow);

    // Populate table rows with data
    data.forEach(item => {
      const row = document.createElement('tr');
      headers.forEach(header => {
        const cell = document.createElement('td');
        cell.textContent = item[header];
        row.appendChild(cell);
      });
      table.appendChild(row);
    });

    tableContainer.innerHTML = ''; // Clear previous content
    tableContainer.appendChild(table);
  } catch (error) {
    console.error(error);
  }
}

fetchAndDisplayData();
</script>